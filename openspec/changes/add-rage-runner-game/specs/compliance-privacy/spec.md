# Compliance and Privacy Specification

## ADDED Requirements

### Requirement: IP Authorization
The system SHALL include written authorization for use of Köksal Baba and Riçıt names/likeness.

#### Scenario: NameRights.pdf inclusion
- **WHEN** project is prepared for submission
- **THEN** Compliance/IP/ folder SHALL contain NameRights.pdf document with written permission from IP holders

#### Scenario: App Review notes reference
- **WHEN** iOS App Store submission is prepared
- **THEN** App Review notes SHALL include text: "We have written permission to use the names and likeness of Köksal Baba and Riçıt. See attached NameRights.pdf in submission package."

#### Scenario: Content review
- **WHEN** game content (text, sprites, SFX) is created
- **THEN** all content SHALL be reviewed to avoid defamatory or unauthorized use of IP

### Requirement: Privacy Manifest (iOS)
The system SHALL include Privacy Manifest declaring data collection practices.

#### Scenario: PrivacyInfo.xcprivacy file
- **WHEN** Xcode project is generated from Unity
- **THEN** project SHALL include PrivacyInfo.xcprivacy file declaring: no user data collection, optional ad tracking (if ATT enabled), analytics data (if consent granted)

#### Scenario: Privacy Manifest fields
- **WHEN** Privacy Manifest is generated
- **THEN** manifest SHALL declare: NSPrivacyTracking = YES (if ATT required), NSPrivacyTrackingDomains = [ad network domains], NSPrivacyCollectedDataTypes = ["Analytics"] (if consent granted)

#### Scenario: Privacy policy markdown
- **WHEN** project is prepared
- **THEN** Compliance/PrivacyPolicy.md SHALL be created with plain-language privacy policy (no PII collection, optional analytics, ad network usage)

### Requirement: ATT (App Tracking Transparency) and IDFA
The system SHALL request ATT permission only if ad network requires IDFA.

#### Scenario: ATT prompt display (if required)
- **WHEN** app launches for first time and ad network requires IDFA
- **THEN** system SHALL display ATT permission prompt with custom message: "We use your data to show personalized ads and improve app performance."

#### Scenario: ATT acceptance
- **WHEN** user grants ATT permission
- **THEN** system SHALL enable IDFA tracking for ad network and save preference to PlayerPrefs "ATTGranted"

#### Scenario: ATT denial
- **WHEN** user denies ATT permission
- **THEN** system SHALL disable IDFA tracking and continue with non-personalized ads (no functionality loss)

#### Scenario: Skip ATT if not required
- **WHEN** ad network does not require IDFA (e.g., contextual ads only)
- **THEN** system SHALL NOT display ATT prompt and proceed with gameplay

### Requirement: No PII Collection
The system SHALL NOT collect personally identifiable information (PII) from users.

#### Scenario: No login system
- **WHEN** player uses app
- **THEN** system SHALL NOT prompt for email, username, or any account creation

#### Scenario: No device ID tracking
- **WHEN** analytics events are logged
- **THEN** system SHALL NOT log device IMEI, phone number, or other device-specific PII

#### Scenario: Anonymous analytics
- **WHEN** analytics events are sent to Firebase/Unity Analytics
- **THEN** system SHALL use anonymous user ID (auto-generated by SDK) with no linkage to real identity

### Requirement: Analytics Consent Toggle
The system SHALL respect user consent for analytics tracking.

#### Scenario: Initial consent default
- **WHEN** app launches for first time
- **THEN** analytics consent SHALL default to ON (opt-out model)

#### Scenario: Consent toggle in settings
- **WHEN** player disables "Privacy Consent" toggle in Settings
- **THEN** system SHALL set PlayerPrefs "AnalyticsConsent" to false and stop all analytics event logging

#### Scenario: Consent re-enable
- **WHEN** player re-enables "Privacy Consent" toggle
- **THEN** system SHALL set PlayerPrefs "AnalyticsConsent" to true and resume analytics event logging

#### Scenario: Analytics disabled enforcement
- **WHEN** AnalyticsService.LogEvent() is called and consent is false
- **THEN** AnalyticsService SHALL no-op (do not send event to backend)

### Requirement: Age Rating Compliance
The system SHALL target low age rating (PEGI 7+ / ESRB Everyone) with family-friendly content.

#### Scenario: No realistic violence
- **WHEN** player dies on obstacle collision
- **THEN** death animation SHALL be comedic (no blood, no realistic injury)

#### Scenario: No offensive language
- **WHEN** in-game text is displayed
- **THEN** text SHALL contain no profanity or offensive language (verified via localization review)

#### Scenario: No gambling mechanics
- **WHEN** monetization is implemented
- **THEN** system SHALL NOT include loot boxes, gacha, or random paid rewards (only direct IAP purchases)

### Requirement: GDPR and CCPA Compliance
The system SHALL respect GDPR (EU) and CCPA (California) privacy requirements.

#### Scenario: Data deletion request (manual)
- **WHEN** user requests data deletion via support email
- **THEN** developer SHALL manually delete analytics data from Firebase/Unity Analytics (no automated system at v1)

#### Scenario: No data retention
- **WHEN** app is uninstalled
- **THEN** all local data (PlayerPrefs) SHALL be deleted by OS, and remote analytics data SHALL expire per SDK default retention policy (90 days)

#### Scenario: Privacy policy link in app
- **WHEN** Settings overlay is opened
- **THEN** UI SHALL display "Privacy Policy" button that opens PrivacyPolicy.md in-app (plain text viewer)

### Requirement: Third-Party SDK Compliance
The system SHALL document third-party SDKs and their data practices.

#### Scenario: Third-party notices file
- **WHEN** project is prepared
- **THEN** Compliance/ThirdPartyNotices.txt SHALL list all SDKs (Unity IAP, LevelPlay/AdMob, Firebase Analytics) with license info and data usage

#### Scenario: SDK data practices in Privacy Manifest
- **WHEN** Privacy Manifest is generated
- **THEN** manifest SHALL declare data collection by third-party SDKs (ad networks, analytics)

### Requirement: Crash and Error Reporting
The system SHALL NOT send crash reports without consent (if using third-party crash tools).

#### Scenario: No automatic crash reporting at v1
- **WHEN** app crashes
- **THEN** system SHALL NOT send crash report to remote service (Unity Cloud Diagnostics disabled at v1)

#### Scenario: Local crash logs only
- **WHEN** app crashes
- **THEN** Unity SHALL write crash log to device storage (accessible via Xcode Devices for debugging)

### Requirement: Regulatory Compliance Documentation
The system SHALL provide compliance checklist for App Store submission.

#### Scenario: App Store compliance checklist
- **WHEN** submission is prepared
- **THEN** Compliance/AppStoreChecklist.md SHALL list: PrivacyInfo.xcprivacy included, ATT prompt configured (if needed), no PII collection, age rating appropriate, NameRights.pdf attached to submission
